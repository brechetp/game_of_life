# Makefile automatically generated by ghdl
# Version: GHDL 0.29 (20100109) [Sokcho edition] - mcode code generator
# Command used to generate this makefile:
# ghdl --gen-makefile --work=sim_lib --workdir=sim_lib/ -P../celloux/celloux_lib -P../main/main_lib cell_sim

GHDL=ghdl
GHDLFLAGS= --work=sim_lib --workdir=sim_lib/ -P../celloux/celloux_lib -P../main/main_lib
GHDLRUNFLAGS=
FILES=$(wildcard ${TESTBENCH}.vhd)
WAVEFORM_VIEWER=gtkwave

# Default target : elaborate
all : init elab run view

# Elaborate target.  Almost useless
elab : force
	$(GHDL) -c $(GHDLFLAGS) -e ${TESTBENCH}

# Run target
run : force
	$(GHDL) -c $(GHDLFLAGS) -r ${TESTBENCH} $(GHDLRUNFLAGS) --wave=${TESTBENCH}.ghw

# Targets to analyze libraries
init: force
	# /usr/local/ghdl/translate/lib//v93/ieee/../../../../libraries/ieee/std_logic_1164.v93
	# /usr/local/ghdl/translate/lib//v93/ieee/../../../../libraries/ieee/std_logic_1164_body.v93
	# /usr/local/ghdl/translate/lib//v93/ieee/../../../../libraries/ieee/numeric_std.v93
	# /usr/local/ghdl/translate/lib//v93/ieee/../../../../libraries/ieee/numeric_std-body.v93
	# /Users/Pierre/Documents/ElecDesign/game_of_life/hdl/celloux/pack_cell.vhd
	# /Users/Pierre/Documents/ElecDesign/game_of_life/hdl/celloux/cell.vhd
	$(GHDL) -a $(GHDLFLAGS) $(FILES)

force:

view:
	$(WAVEFORM_VIEWER) ${TESTBENCH}.ghw
